
  // Set implementation

  @inline final def isEmpty = len == 0

  @inline final def nonEmpty = !isEmpty

  def keyArray(ptr: VPtr[this.type]): Array[K] = keys
  def keyIndex(ptr: VPtr[this.type]): Int = ptr.raw.toInt

  def result(): IHashSet[K] = this

  def mutableCopy: MHashSet[K] = new HashSetImpl[K](
    keys = keys.clone,
    buckets = buckets.clone,
    len = len,
    used = len,
    mask = mask,
    limit = limit)

  def clear(): Unit = {
    absorb(MHashSet.empty[K])
  }

  @inline final def longSize = len


}
